(function(e){function t(t){for(var s,o,c=t[0],i=t[1],u=t[2],d=0,h=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);l&&l(t);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},r={app:0},a=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/ConvexHull-ChansAlgorithm/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"163b":function(e,t,n){"use strict";n("9b17")},"35f1":function(e,t,n){},"36cb":function(e,t,n){},3986:function(e,t,n){},"3bd3":function(e,t,n){"use strict";n("36cb")},4682:function(e,t,n){"use strict";n("35f1")},"50d0":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23");function r(e,t){var n=Object(s["y"])("router-view");return Object(s["t"])(),Object(s["d"])(n)}n("b954");var a=n("6b0d"),o=n.n(a);const c={},i=o()(c,[["render",r]]);var u=i,l=n("6c02"),d=Object(s["h"])('<div class="about"><h1>Description</h1><p> This is my final project for the <a target="_blank" rel="noopener noreferrer" href="https://www.cse.wustl.edu/~taoju/cse546/">CSE546: Computational Geometry</a> course, taught by <a target="_blank" rel="noopener noreferrer" href="https://www.cse.wustl.edu/~taoju/">Professor Tao Ju</a>, at Washington University in St. Louis. </p><p> It demos <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Chan%27s_algorithm">Chan&#39;s Algorithm</a>, an optimal output-sensitive algorithm computing the convex hull of a point set. </p><h1>Developer</h1><div class="devs"><p><a target="_blank" rel="noopener noreferrer" href="https://github.com/KrisCris">Pingchuan Huang</a></p><p><a target="_blank" rel="noopener noreferrer" href="https://github.com/CocoYard">Yong Cheng</a></p></div><h1>Git Repo</h1><div><p><a target="_blank" rel="noopener noreferrer" href="https://github.com/KrisCris/ConvexHull-ChansAlgorithm">https://github.com/KrisCris/ConvexHull-ChansAlgorithm</a></p></div><h1>Tools</h1><div class="tools"><p><a target="_blank" rel="noopener noreferrer" href="https://vuejs.org/">Vue.js</a></p><a target="_blank" rel="noopener noreferrer" href="https://github.com/davidmerfield/randomColor"><p>randomColor</p></a></div><h1>References</h1><div class="refs"><a target="_blank" rel="noopener noreferrer" href="https://sites.cs.ucsb.edu/~suri/cs235/ChanCH.pdf"><p>1. Chan, T.M. Optimal output-sensitive convex hull algorithms in two and three dimensions</p></a><a target="_blank" rel="noopener noreferrer" href="http://www.cs.umd.edu/~mount/754/Lects/754lects.pdf"><p>2. Dave Mount&#39;s Lecture Notes</p></a></div></div>',1);function h(e,t,n,r,a,o){var c=Object(s["y"])("Nav");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["j"])(c),d],64)}n("a9e3"),n("99af");var p=n("898b"),b={id:"nav",class:"top"},f=Object(s["i"])("Chan's Algorithm"),g=Object(s["i"])("About ");function v(e,t,n,r,a,o){var c=Object(s["y"])("router-link");return Object(s["t"])(),Object(s["f"])("div",b,[Object(s["j"])(c,{to:{name:"ChansAlg"}},{default:Object(s["E"])((function(){return[f]})),_:1}),Object(s["j"])(c,{to:{name:"About"}},{default:Object(s["E"])((function(){return[g]})),_:1})])}var m={name:"Nav",methods:{}};n("83f5");const j=o()(m,[["render",v]]);var O=j,y={name:"About",components:{Nav:O},mounted:function(){console.log("mounted")},props:{data:{default:[1,45,5,2,46,7],type:Array},width:{default:500,type:Number},height:{default:270,type:Number}},data:function(){return{padding:60}},computed:{rangeX:function(){var e=this.width-this.padding;return[0,e]},rangeY:function(){var e=this.height-this.padding;return[0,e]},path:function(){var e=p["f"]().range(this.rangeX),t=p["f"]().range(this.rangeY);return p["a"]().scale(e),p["b"]().scale(t),e.domain(p["c"](this.data,(function(e,t){return t}))),t.domain([0,p["e"](this.data,(function(e){return e}))]),p["d"]().x((function(t,n){return e(n)})).y((function(e){return t(e)}))},line:function(){return this.path(this.data)},viewBox:function(){return"0 0 ".concat(this.width," ").concat(this.height)}}};n("163b");const w=o()(y,[["render",h]]);var x=w,P={class:"row"},S={class:"col"};function k(e,t,n,r,a,o){var c=Object(s["y"])("Nav"),i=Object(s["y"])("SketchPad"),u=Object(s["y"])("ControlPanel");return Object(s["t"])(),Object(s["f"])("div",P,[Object(s["j"])(c),Object(s["g"])("div",S,[Object(s["j"])(i),Object(s["j"])(u)])])}var C={class:"sketchpad"},$=["x1","x2","y1","y2"],M=["x1","x2","y1","y2"],R=["x1","x2","y1","y2"],E=["cx","cy"];function H(e,t,n,r,a,o){return Object(s["t"])(),Object(s["f"])("div",C,[(Object(s["t"])(),Object(s["f"])("svg",{id:"svg",onClick:t[0]||(t[0]=function(){return o.addPoint&&o.addPoint.apply(o,arguments)})},[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(o.edges,(function(e){return Object(s["t"])(),Object(s["f"])("line",{key:e,x1:e.x0,x2:e.x1,y1:e.y0,y2:e.y1,style:Object(s["p"])({stroke:e.color,"stroke-width":2})},null,12,$)})),128)),o.scanEdge?(Object(s["t"])(),Object(s["f"])("line",{key:0,x1:o.scanEdge.x0,x2:o.scanEdge.x1,y1:o.scanEdge.y0,y2:o.scanEdge.y1,style:{stroke:"white","stroke-width":4}},null,8,M)):Object(s["e"])("",!0),(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(o.fullHullEdges,(function(e){return Object(s["t"])(),Object(s["f"])("line",{key:e,x1:e.x0,x2:e.x1,y1:e.y0,y2:e.y1,style:{stroke:"white","stroke-width":6}},null,8,R)})),128)),(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(o.vertices,(function(e){return Object(s["t"])(),Object(s["f"])("circle",{key:e,cx:e.xPos,cy:e.yPos,r:"5",style:Object(s["p"])({fill:e.color})},null,12,E)})),128))]))])}var N={name:"Sketchpad",computed:{vertices:function(){return this.$store.getters.vertices},edges:function(){return this.$store.getters.edges},scanEdge:function(){return this.$store.state.scanEdge},fullHullEdges:function(){return this.$store.state.fullHullEdges}},methods:{addPoint:function(e){this.$store.commit("addVertex",{x:e.offsetX,y:e.offsetY})}},mounted:function(){}};n("3bd3");const _=o()(N,[["render",H]]);var A=_,V={class:"ControlPanel"},I={key:0,class:"warpper"},J=Object(s["g"])("div",{class:"description"},[Object(s["g"])("div",{class:"content"},[Object(s["g"])("h1",null,"Welcome!"),Object(s["g"])("p",null,[Object(s["i"])(" This is a demo of "),Object(s["g"])("a",{target:"_blank",rel:"noopener noreferrer",href:"https://en.wikipedia.org/wiki/Chan%27s_algorithm"},"Chan's algorithm"),Object(s["i"])(", named after Timothy M. Chan, an optimal output-sensitive algorithm to compute the convex hull of a set points. ")])])],-1),T={class:"controllor"},G={class:"content"},L={key:1,class:"warpper"},F=Object(s["g"])("div",{class:"description"},[Object(s["g"])("div",{class:"content"},[Object(s["g"])("h2",null,"1. Draw Some Points"),Object(s["g"])("p",null," Let's first add some points (more than 3) by simply clicking on the empty plane! Also, you are encouraged to randomly add as many points as possible. "),Object(s["g"])("p",null," Or, you can adjust the number of points you want by dragging the bar below and click the button, we will generate points automatically for you. ")])],-1),Y={class:"controllor"},X={class:"content"},D=["disabled"],q=["disabled"],B=["disabled"],U=["disabled"],W={key:2,class:"warpper"},K=Object(s["g"])("div",{class:"description"},[Object(s["g"])("div",{class:"content"},[Object(s["g"])("h2",null,"2. How does it work"),Object(s["g"])("p",null,[Object(s["i"])(" Chan’s idea was to partition the points into groups of equal size. There are m points in each group, and so the number of groups is r = ⌈n/m⌉. For each group we compute its hull using "),Object(s["g"])("a",{target:"_blank",rel:"noopener noreferrer",href:"https://en.wikipedia.org/wiki/Graham_scan"},"Graham’s scan"),Object(s["i"])(". Then we run "),Object(s["g"])("a",{target:"_blank",rel:"noopener noreferrer",href:"https://en.wikipedia.org/wiki/Gift_wrapping_algorithm"},"Jarvis’s march"),Object(s["i"])(" with bineary search on the groups, which has m steps. ")]),Object(s["g"])("p",null," To compute m, we start with a small value of it and increase it rapidly until the algorithm returns a successful result. ")])],-1),z={class:"controllor"},Q={class:"content"},Z={key:3,class:"warpper"},ee={class:"description"},te={class:"content"},ne={key:0},se={key:1},re={key:2},ae=Object(s["i"])("m = min(2"),oe=Object(s["g"])("sup",null,"2",-1),ce=Object(s["g"])("sup",null,[Object(s["g"])("sup",null,"#iteration")],-1),ie={key:3},ue={key:4},le={key:5},de={key:6},he={key:7},pe={key:8},be={class:"controllor"},fe={class:"content"},ge=["disabled"],ve=["disabled"],me=["disabled"],je=["disabled"],Oe=["disabled"],ye=["disabled"],we={key:4,class:"warpper"},xe=Object(s["g"])("div",{class:"description"},[Object(s["g"])("div",{class:"content"},[Object(s["g"])("h2",null,"Extra. Playground"),Object(s["g"])("p",null," Feel free to test your m values! ")])],-1),Pe={class:"controllor"},Se={class:"content"},ke={class:"mSettings"},Ce=["disabled"],$e=["disabled"],Me={class:"mSettings"},Re=["disabled"],Ee=["disabled"],He=["disabled"];function Ne(e,t,n,r,a,o){return Object(s["t"])(),Object(s["f"])("div",V,[0==e.$store.state.step?(Object(s["t"])(),Object(s["f"])("div",I,[J,Object(s["g"])("div",T,[Object(s["g"])("div",G,[Object(s["g"])("button",{onClick:t[0]||(t[0]=function(){return o.nextStep&&o.nextStep.apply(o,arguments)})},"Start")])])])):Object(s["e"])("",!0),1==e.$store.state.step?(Object(s["t"])(),Object(s["f"])("div",L,[F,Object(s["g"])("div",Y,[Object(s["g"])("div",X,[Object(s["F"])(Object(s["g"])("input",{disabled:!e.$store.state.canRun,type:"range",min:"1",max:"100",step:"1",name:"pointsNum",id:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.pointsNum=e})},null,8,D),[[s["C"],a.pointsNum]]),Object(s["g"])("button",{disabled:!e.$store.state.canRun,onClick:t[2]||(t[2]=function(){return o.addPoints&&o.addPoints.apply(o,arguments)})}," Add "+Object(s["A"])(a.pointsNum)+" Points ",9,q),Object(s["g"])("button",{disabled:!(e.$store.state.canRun&&o.enoughPoints),class:"green",onClick:t[3]||(t[3]=function(){return o.nextStep&&o.nextStep.apply(o,arguments)})}," Next ",8,B),Object(s["g"])("button",{disabled:!e.$store.state.canRun,class:"gray",onClick:t[4]||(t[4]=function(){return o.prevStep&&o.prevStep.apply(o,arguments)})}," Prev ",8,U)])])])):Object(s["e"])("",!0),2==e.$store.state.step?(Object(s["t"])(),Object(s["f"])("div",W,[K,Object(s["g"])("div",z,[Object(s["g"])("div",Q,[Object(s["g"])("button",{class:"green",onClick:t[5]||(t[5]=function(){return o.nextStep&&o.nextStep.apply(o,arguments)})},"Demo"),Object(s["g"])("button",{class:"gray",onClick:t[6]||(t[6]=function(){return o.prevStep&&o.prevStep.apply(o,arguments)})},"Prev")])])])):Object(s["e"])("",!0),3==e.$store.state.step?(Object(s["t"])(),Object(s["f"])("div",Z,[Object(s["g"])("div",ee,[Object(s["g"])("div",te,[e.$store.state.subStep<3?(Object(s["t"])(),Object(s["f"])("h2",ne,"Step "+Object(s["A"])(e.$store.state.subStep+1)+"/3",1)):Object(s["e"])("",!0),0==e.$store.state.subStep?(Object(s["t"])(),Object(s["f"])("h4",se,"The first step is dividing the points into groups each with the size of m.")):Object(s["e"])("",!0),0==e.$store.state.subStep?(Object(s["t"])(),Object(s["f"])("p",re,[ae,oe,ce,Object(s["i"])(", #points) = "+Object(s["A"])(e.$store.state.rawResults[e.$store.state.round].m),1)])):Object(s["e"])("",!0),1==e.$store.state.subStep?(Object(s["t"])(),Object(s["f"])("h4",ie,"Now, we are going to compute the convex hull of each subset of points using Graham's Scan.")):Object(s["e"])("",!0),2==e.$store.state.subStep?(Object(s["t"])(),Object(s["f"])("h4",ue,"Starting from the up-most vertex in the plane, m number of convex edges will be computed using Jarvis’s March.")):Object(s["e"])("",!0),3!=e.$store.state.subStep||e.$store.state.rawResults[e.$store.state.round].isCompleted?Object(s["e"])("",!0):(Object(s["t"])(),Object(s["f"])("h2",le,"More Iterations Required")),3==e.$store.state.subStep&&e.$store.state.rawResults[e.$store.state.round].isCompleted?(Object(s["t"])(),Object(s["f"])("h2",de,"Process Complete")):Object(s["e"])("",!0),3!=e.$store.state.subStep||e.$store.state.rawResults[e.$store.state.round].isCompleted?Object(s["e"])("",!0):(Object(s["t"])(),Object(s["f"])("h4",he,"Oh no, m is too small! We need increase m in order to warp the entire shape!")),3==e.$store.state.subStep&&e.$store.state.rawResults[e.$store.state.round].isCompleted?(Object(s["t"])(),Object(s["f"])("h4",pe,"The convex hull is successfully computed. Now, you can manually tweak the m value, or restart the demo!")):Object(s["e"])("",!0)])]),Object(s["g"])("div",be,[Object(s["g"])("div",fe,[0==e.$store.state.subStep?(Object(s["t"])(),Object(s["f"])("button",{key:0,disabled:!e.$store.state.canRun,class:"green",onClick:t[7]||(t[7]=function(){return o.groupPoints&&o.groupPoints.apply(o,arguments)})},"Group Points",8,ge)):Object(s["e"])("",!0),1==e.$store.state.subStep?(Object(s["t"])(),Object(s["f"])("button",{key:1,disabled:!e.$store.state.canRun,class:"green",onClick:t[8]||(t[8]=function(){return o.grahamScan&&o.grahamScan.apply(o,arguments)})},"Graham’s Scan",8,ve)):Object(s["e"])("",!0),2==e.$store.state.subStep?(Object(s["t"])(),Object(s["f"])("button",{key:2,disabled:!e.$store.state.canRun,class:"green",onClick:t[9]||(t[9]=function(){return o.jarvisMarch&&o.jarvisMarch.apply(o,arguments)})},"Jarvis’s March",8,me)):Object(s["e"])("",!0),3!=e.$store.state.subStep||e.$store.state.rawResults[e.$store.state.round].isCompleted?Object(s["e"])("",!0):(Object(s["t"])(),Object(s["f"])("button",{key:3,disabled:!e.$store.state.canRun,class:"green",onClick:t[10]||(t[10]=function(){return o.nextRound&&o.nextRound.apply(o,arguments)})},"Next Iteration",8,je)),3==e.$store.state.subStep&&e.$store.state.rawResults[e.$store.state.round].isCompleted?(Object(s["t"])(),Object(s["f"])("button",{key:4,disabled:!e.$store.state.canRun,onClick:t[11]||(t[11]=function(){return o.restart&&o.restart.apply(o,arguments)})},"Restart",8,Oe)):Object(s["e"])("",!0),3==e.$store.state.subStep&&e.$store.state.rawResults[e.$store.state.round].isCompleted?(Object(s["t"])(),Object(s["f"])("button",{key:5,disabled:!e.$store.state.canRun,onClick:t[12]||(t[12]=function(){return o.nextStep&&o.nextStep.apply(o,arguments)}),class:"green"},"Try other m values",8,ye)):Object(s["e"])("",!0)])])])):Object(s["e"])("",!0),4==e.$store.state.step?(Object(s["t"])(),Object(s["f"])("div",we,[xe,Object(s["g"])("div",Pe,[Object(s["g"])("div",Se,[Object(s["g"])("div",ke,[Object(s["F"])(Object(s["g"])("input",{disabled:!e.$store.state.canRun,type:"range",min:"1",max:"100",step:"1",name:"pointsNum",id:"","onUpdate:modelValue":t[13]||(t[13]=function(e){return o.m=e})},null,8,Ce),[[s["C"],o.m]]),Object(s["g"])("button",{disabled:!e.$store.state.canRun,class:"green",onClick:t[14]||(t[14]=function(){return o.mChans&&o.mChans.apply(o,arguments)})}," Run m = "+Object(s["A"])(o.m),9,$e)]),Object(s["g"])("div",Me,[Object(s["F"])(Object(s["g"])("input",{disabled:!e.$store.state.canRun,type:"range",min:"1",max:"100",step:"1",name:"pointsNum",id:"","onUpdate:modelValue":t[15]||(t[15]=function(e){return a.pointsNum=e})},null,8,Re),[[s["C"],a.pointsNum]]),Object(s["g"])("button",{disabled:!e.$store.state.canRun,onClick:t[16]||(t[16]=function(){return o.addPoints&&o.addPoints.apply(o,arguments)})}," Add "+Object(s["A"])(a.pointsNum)+" Points ",9,Ee)]),Object(s["g"])("button",{disabled:!e.$store.state.canRun,class:"gray",onClick:t[17]||(t[17]=function(){return o.restart&&o.restart.apply(o,arguments)})}," Home ",8,He)])])])):Object(s["e"])("",!0)])}var _e={name:"ControlPanel",data:function(){return{pointsNum:50}},methods:{nextStep:function(){this.$store.dispatch("nextStep")},prevStep:function(){this.$store.dispatch("prevStep")},addPoints:function(){document.getElementById("svg"),this.$store.dispatch("addPoints",{number:this.pointsNum,maxX:document.getElementById("svg").clientWidth,maxY:document.getElementById("svg").clientHeight})},groupPoints:function(){this.$store.dispatch("groupPoints")},grahamScan:function(){this.$store.dispatch("grahamScan")},jarvisMarch:function(){this.$store.dispatch("jarvisMarch")},nextRound:function(){this.$store.commit("nextRound")},restart:function(){this.$store.commit("restart")},mChans:function(){this.$store.dispatch("mChans")}},computed:{m:{get:function(){return console.log("get"),this.$store.state.m},set:function(e){console.log("set"),this.$store.commit("setM",e)}},enoughPoints:function(){return this.$store.state.rawVertices.length>=3}}};n("4682");const Ae=o()(_e,[["render",Ne]]);var Ve=Ae,Ie={name:"ChansAlg",components:{Nav:O,SketchPad:A,ControlPanel:Ve},data:function(){return{}},mounted:function(){}};n("c788");const Je=o()(Ie,[["render",k]]);var Te,Ge=Je,Le=[{path:"/About",name:"About",component:x},{path:"/ChansAlg",name:"ChansAlg",component:Ge},{path:"/:catchAll(.*)",redirect:"/ChansAlg"}],Fe=Object(l["a"])({history:Object(l["b"])("/ConvexHull-ChansAlgorithm/"),routes:Le}),Ye=Fe,Xe=n("ade3"),De=n("b85c"),qe=n("5502"),Be=n("fd9b"),Ue=n.n(Be),We=n("d4ec"),Ke=n("bee2"),ze=function(){function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#74ff99";Object(We["a"])(this,e),Object(Xe["a"])(this,"xPos",void 0),Object(Xe["a"])(this,"yPos",void 0),Object(Xe["a"])(this,"predecessor",void 0),Object(Xe["a"])(this,"color",void 0),this.xPos=t,this.yPos=n,this.color=s}return Object(Ke["a"])(e,null,[{key:"xSort",value:function(e,t){return e.xPos>t.xPos?1:e.xPos<t.xPos?-1:0}},{key:"ySort",value:function(e,t){return e.yPos>t.yPos?1:e.yPos<t.yPos?-1:0}},{key:"orient",value:function(e,t,n){return e.xPos*t.yPos+t.xPos*n.yPos+n.xPos*e.yPos-(e.xPos*n.yPos+t.xPos*e.yPos+n.xPos*t.yPos)}},{key:"degree",value:function(e,t,n){var s=[e.xPos-t.xPos,e.yPos-t.yPos],r=[n.xPos-t.xPos,n.yPos-t.yPos],a=(s[0]*r[0]+s[1]*r[1])/(Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2))*Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)));return Math.acos(a)}}]),e}(),Qe=n("2909"),Ze=(n("fb6a"),n("4e82"),n("e6e1"),n("a434"),function(){function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000000";Object(We["a"])(this,e),Object(Xe["a"])(this,"begin",void 0),Object(Xe["a"])(this,"end",void 0),Object(Xe["a"])(this,"color","#74ff99"),this.begin=t,this.end=n,this.color=s}return Object(Ke["a"])(e,[{key:"x0",get:function(){return this.begin.xPos}},{key:"y0",get:function(){return this.begin.yPos}},{key:"x1",get:function(){return this.end.xPos}},{key:"y1",get:function(){return this.end.yPos}}]),e}()),et=function(){function e(t){Object(We["a"])(this,e),Object(Xe["a"])(this,"P",void 0),Object(Xe["a"])(this,"steps",[]),this.P=t}return Object(Ke["a"])(e,[{key:"Hull",value:function(){this.steps=[];for(var e=1;1;e++){this.steps.push({m:0,r:0,subP:[],pLen:this.P.length,subCH:[],edgeLen:0,JM:{mEdges:[],mVertices:[],mScans:[]},isCompleted:!1});var t=Math.min(Math.pow(2,Math.pow(2,e)),this.P.length);this.steps[this.steps.length-1].m=t;var n=this.PartialHull(t);if(null!=n)return this.steps}}},{key:"mHull",value:function(e){this.steps=[],this.steps.push({m:0,r:0,subP:[],pLen:this.P.length,subCH:[],edgeLen:0,JM:{mEdges:[],mVertices:[],mScans:[]},isCompleted:!1}),this.steps[this.steps.length-1].m=e;this.PartialHull(e);return this.steps}},{key:"PartialHull",value:function(e){var t=Math.ceil(this.P.length/e);this.steps[this.steps.length-1].r=t;for(var n=[],s=0;s<t;s++)n.push(this.P.slice(e*s,e*(s+1)));this.steps[this.steps.length-1].subP=n;for(var r=[],a=0,o=n;a<o.length;a++){var c=o[a],i=this.GrahamScan(c);r.push(i),this.steps[this.steps.length-1].edgeLen+=i.edges.length}this.steps[this.steps.length-1].subCH=r;var u=this.JarvisMarch(r,t,e);return null==u?null:u}},{key:"GrahamScan",value:function(e){if(e.length<2)return{vertices:[e[0]],edges:[new Ze(e[0],e[0])]};for(var t=e.sort(ze.xSort),n=[t[0],t[1]],s=2;s<t.length;s++){while(n.length>=2&&ze.orient(n[n.length-2],n[n.length-1],t[s])<=0)n.pop();n.push(t[s])}for(var r=[t[t.length-1],t[t.length-2]],a=t.length-3;a>=0;a--){while(r.length>=2&&ze.orient(r[r.length-2],r[r.length-1],t[a])<=0)r.pop();r.push(t[a])}for(var o=[],c=1;c<n.length;c++)o.push(new Ze(n[c-1],n[c]));for(var i=1;i<r.length;i++)o.push(new Ze(r[i-1],r[i]));return n.pop(),r.pop(),{vertices:n.concat(r),edges:o}}},{key:"JarvisMarch",value:function(e,t,n){var s,r=[],a=this.P[0],o=Object(De["a"])(this.P);try{for(o.s();!(s=o.n()).done;){var c=s.value;c.yPos<a.yPos&&(a=c)}}catch(x){o.e(x)}finally{o.f()}for(var i=[new ze(Number.MIN_SAFE_INTEGER,0),a],u=1;u<=n;u++){r.push([]);for(var l=0;l<t;l++){var d=Object(Qe["a"])(e[l].vertices),h=d.indexOf(i[u-1]);h>-1&&d.splice(h,1),h=d.indexOf(i[u]),h>-1&&d.splice(h,1),d.length<1||r[u-1].push(this.bSearch(d,0,d.length-1,i[u-1],i[u]))}var p=Number.MIN_SAFE_INTEGER;i.push(r[u-1][0]);var b,f=Object(De["a"])(r[u-1]);try{for(f.s();!(b=f.n()).done;){var g=b.value;ze.degree(i[u-1],i[u],g)>p&&(p=ze.degree(i[u-1],i[u],g),i[u+1]=g)}}catch(x){f.e(x)}finally{f.f()}if(i[u+1]===i[1]){var v=i.slice(1,i.length);this.steps[this.steps.length-1].JM.mScans=r,this.steps[this.steps.length-1].JM.mVertices=v;for(var m=[],j=1;j<i.length;j++)m.push(new Ze(v[j-1],v[j]));return this.steps[this.steps.length-1].JM.mEdges=m,this.steps[this.steps.length-1].isCompleted=!0,v}}this.steps[this.steps.length-1].JM.mScans=r;var O=i.slice(1,i.length);this.steps[this.steps.length-1].JM.mVertices=O;for(var y=[],w=1;w<i.length;w++)y.push(new Ze(O[w-1],O[w]));return this.steps[this.steps.length-1].JM.mEdges=y,null}},{key:"bSearch",value:function(e,t,n,s,r){return t==n?e[t]:ze.degree(s,r,e[t])>ze.degree(s,r,e[n])?(this.steps[this.steps.length-1].JM.mScans,ze.degree(s,r,e[Math.floor((t+n)/2)])<ze.degree(s,r,e[n])?this.bSearch(e,t,Math.floor((t+n)/2),s,r):ze.degree(s,r,e[Math.floor((t+n)/2+1)])>ze.degree(s,r,e[Math.floor((t+n)/2)])?this.bSearch(e,Math.floor((t+n)/2)+1,n,s,r):ze.degree(s,r,e[Math.floor((t+n)/2+1)])==ze.degree(s,r,e[Math.floor((t+n)/2)])?e[Math.floor((t+n)/2)]:this.bSearch(e,t,Math.floor((t+n)/2),s,r)):ze.degree(s,r,e[Math.floor((t+n)/2)])<ze.degree(s,r,e[n])||ze.degree(s,r,e[Math.floor((t+n)/2+1)])>ze.degree(s,r,e[Math.floor((t+n)/2)])?this.bSearch(e,Math.floor((t+n)/2)+1,n,s,r):ze.degree(s,r,e[Math.floor((t+n)/2+1)])==ze.degree(s,r,e[Math.floor((t+n)/2)])?e[Math.floor((t+n)/2)]:this.bSearch(e,t,Math.floor((t+n)/2),s,r)}},{key:"lSearch",value:function(e,t,n){var s,r=void 0,a=Number.MIN_SAFE_INTEGER,o=Object(De["a"])(e);try{for(o.s();!(s=o.n()).done;){var c=s.value;ze.degree(t,n,c)>=a&&(a=ze.degree(t,n,c),r=c)}}catch(i){o.e(i)}finally{o.f()}return r}}],[{key:"getInstance",value:function(t){if(!(t.length<3)){if(void 0===e.instance)return e.instance=new e(t),e.instance;var n=e.instance;return n.P=t,n.subP=[],n.subCH=[],n}}}]),e}();Object(Xe["a"])(et,"instance",void 0);var tt=Object(qe["a"])({state:{drawable:!0,step:0,canRun:!0,round:0,subStep:0,rawVertices:[],rawResults:[],subHullEdges:[],fullHullEdges:[],scanEdge:void 0,m:6},mutations:(Te={updateStep:function(e,t){e.step+=t},updateCanRun:function(e,t){e.canRun=t},nextRound:function(e){e.round++},nextSubStep:function(e){e.subStep++},addVertex:function(e,t){if(1==e.step||4==e.step){var n,s=Object(De["a"])(e.rawVertices);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(r.xPos==t.x&&r.yPos==t.y)return}}catch(a){s.e(a)}finally{s.f()}e.rawVertices.push(new ze(t.x,t.y))}},addEdge:function(e,t){e.subHullEdges.push(t)},setEdges:function(e,t){e.subHullEdges=t},setScanEdge:function(e,t){e.scanEdge=t},addFullHullEdge:function(e,t){e.fullHullEdges.push(t)},replaceLastFullHullEdge:function(e,t){e.fullHullEdges[e.fullHullEdges.length-1]=t},setResults:function(e,t){var n,s=Object(De["a"])(t);try{for(s.s();!(n=s.n()).done;){var r=n.value;r.colors=Ue()({count:r.r})}}catch(a){s.e(a)}finally{s.f()}e.rawResults=t}},Object(Xe["a"])(Te,"nextRound",(function(e){var t,n=Object(De["a"])(e.rawVertices);try{for(n.s();!(t=n.n()).done;){var s=t.value;s.color="#74ff99"}}catch(r){n.e(r)}finally{n.f()}e.subStep=0,e.round+=1,e.fullHullEdges=[],e.subHullEdges=[]})),Object(Xe["a"])(Te,"restart",(function(e){e.rawVertices=[],e.rawResults=[],e.subStep=0,e.round=0,e.step=0,e.fullHullEdges=[],e.subHullEdges=[]})),Object(Xe["a"])(Te,"setM",(function(e,t){e.m=t})),Te),actions:{nextStep:function(e){var t=e.commit,n=e.state,s=e.dispatch;if(2==n.step&&s("computeChans"),3==n.step){var r,a=Object(De["a"])(n.rawVertices);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.color="#74ff99"}}catch(c){a.e(c)}finally{a.f()}n.subStep=0,n.round=0,n.fullHullEdges=[],n.subHullEdges=[],n.rawResults=[]}t("updateStep",1)},prevStep:function(e){var t=e.commit,n=e.state;n.step-1==0?t("restart"):t("updateStep",-1)},addPoints:function(e,t){var n=e.commit,s=e.state;function r(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}n("updateCanRun",!1);var a=t.number,o=setInterval((function(){if(a>0){var e=s.rawVertices.length;n("addVertex",{x:r(6,t.maxX-5),y:r(6,t.maxY)});var c=s.rawVertices.length;while(e==c)n("addVertex",{x:r(6,t.maxX-5),y:r(6,t.maxY)}),c=s.rawVertices.length;a--}else clearInterval(o),n("updateCanRun",!0)}),20)},computeChans:function(e){var t=e.state,n=e.commit,s=et.getInstance(t.rawVertices);s?n("setResults",s.Hull()):alert("You have to add more dots!!!!")},groupPoints:function(e){var t=e.state,n=e.commit,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;n("updateCanRun",!1);var r=t.rawResults[t.round].pLen,a=0,o=0,c=setInterval((function(){if(r>0){var e=t.rawResults[t.round].colors[a];t.rawResults[t.round].subP[a][o].color=e,t.rawResults[t.round].subP[a].length-1>o?o++:(o=0,a++),r--}else clearInterval(c),s&&s(),n("updateCanRun",!0)}),20);n("nextSubStep")},grahamScan:function(e){var t=e.state,n=e.commit,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;n("updateCanRun",!1);var r=t.rawResults[t.round].edgeLen,a=0,o=0;t.subHullEdges=[];var c=setInterval((function(){if(r>0){var e=t.rawResults[t.round].colors[a];t.rawResults[t.round].subCH[a].edges[o].color=e,n("addEdge",t.rawResults[t.round].subCH[a].edges[o]),t.rawResults[t.round].subCH[a].edges.length-1>o?o++:(o=0,a++),r--}else clearInterval(c),s&&s(),n("updateCanRun",!0)}),20);n("nextSubStep")},jarvisMarch:function(e){var t=e.state,n=e.commit;n("updateCanRun",!1);t.rawResults[t.round].JM.mEdges;var s=t.rawResults[t.round].JM.mScans,r=t.rawResults[t.round].JM.mVertices;t.fullHullEdges=[];var a,o=0,c=Object(De["a"])(s);try{for(c.s();!(a=c.n()).done;){var i=a.value;o+=i.length}}catch(h){c.e(h)}finally{c.f()}var u=0,l=0,d=setInterval((function(){if(o>0){var e=new Ze(r[u],s[u][l]);n("setScanEdge",e),s[u][l]==r[u+1]&&n("addFullHullEdge",e),s[u].length-1>l?l++:(l=0,u++),o--}else clearInterval(d),n("setScanEdge",void 0),n("updateCanRun",!0)}),20);n("nextSubStep")},mChans:function(e){var t=e.commit,n=e.state,s=e.dispatch,r=et.getInstance(n.rawVertices);if(r){t("setResults",r.mHull(n.m));var a,o=Object(De["a"])(n.rawVertices);try{for(o.s();!(a=o.n()).done;){var c=a.value;c.color="#74ff99"}}catch(i){o.e(i)}finally{o.f()}n.fullHullEdges=[],n.subHullEdges=[],s("groupPoints",(function(){s("grahamScan",(function(){s("jarvisMarch")}))})),n.subStep=0,n.round=0}else alert("You have to add more dots!!!!")}},getters:{vertices:function(e){return 0==e.step?[]:e.rawVertices},edges:function(e){return 0==e.step?[]:e.subHullEdges}},modules:{}}),nt=Object(s["c"])(u);nt.use(tt),nt.use(Ye),nt.mount("#app")},"5f81":function(e,t,n){},"83f5":function(e,t,n){"use strict";n("50d0")},"9b17":function(e,t,n){},b954:function(e,t,n){"use strict";n("3986")},c788:function(e,t,n){"use strict";n("5f81")}});
//# sourceMappingURL=app.6d34d693.js.map